<!-- Include of the dedicated stylesheet -->
<link rel="stylesheet" type="text/css" href="../scripts/formTravel.css">

<!-- Success or error banner -->
{% if travel_ok == True %}
	<div class="alert alert-success" role="alert">
    	<strong>Done !</strong> 
    	Travel successfully added. Redirection to the home page in 3 seconds
    </div>

    <script>
	    window.setTimeout(function(){
		    window.location.href = "/";
	    }, 3000);
    </script>


{% elif travel_ok == False %}
	<div class="alert alert-danger" role="alert">
    	<strong>Oups !</strong> There has been an error.
    </div>
{% endif %}


<!-- add Travel form -->
<div class="jumbotron">

	<h1 class="text-primary">Add a travel</h1>

	<form role="form" method="post" action="/addTravel" onsubmit="return confirm('Do you really want to submit this travel ?');">

		<div class="form-group col-md-6">
			<label for="departure">Departure :</label>
			<select class="form-control" id="departure" name="departure">
			    <option value="saguenay" {% if departure == 'saguenay' %}selected{% endif %}>Saguenay, QC</option>
			    <option value="quebec" {% if departure == 'quebec' %}selected{% endif %}>Québec, QC</option>
				<option value="montreal" {% if departure == 'montreal' %}selected{% endif %}>Montréal, QC</option>
			</select>
		</div>

		<div class="form-group col-md-6">
			<label for="arrival">Arrival : {% if error_samedeparture %}<span style="color:red;"> {{ error_samedeparture }}</span>{% endif %}</label>
			<select class="form-control" id="arrival" name="arrival">
			    <option value="saguenay" {% if arrival == 'saguenay' %}selected{% endif %}>Saguenay, QC</option>
			    <option value="quebec" {% if arrival == 'quebec' %}selected{% endif %}>Québec, QC</option>
				<option value="montreal" {% if arrival == 'montreal' %}selected{% endif %}>Montréal, QC</option>
			</select>
		</div>

        <div class="form-group col-md-4">
        	<label for="departure-date">Departure date {% if error_datetime %}<span style="color:red;"> {{ error_datetime }}</span>{% endif %}</label>
        	<input id="departure-date" class="form-control" type="date" placeholder="YYYY-MM-DD" name="departure-date" value="{{ datetime_departure.strftime('%Y-%m-%d') }}"/>
        </div>

        <div class="form-group col-md-4">
        	<label for="departure-hour">Hour</label>
        	<select class="form-control" id="departure-hour" name="departure-hour">
        		{% for i in range(24) %}

        			{% if i < 10 %}
        				<option value="{{ i }}" {% if datetime_departure.strftime('%H')|int == i %}selected{% endif %}>{{ '0' + i|string + ' h' }}</option>
        			{% else %}
        				<option value="{{ i }}" {% if datetime_departure.strftime('%H')|int == i %}selected{% endif %}>{{ i|string + ' h' }}</option>
        			{% endif %}

        		{% endfor %}
        	</select>
        </div>

        <div class="form-group col-md-4">
        	<label for="departure-minutes">Minutes</label>
        	<select class="form-control" id="departure-minutes" name="departure-minutes">
        		{% for i in range(60) %}

        			{% if i < 10 %}
        				<option value="{{ i }}" {% if datetime_departure.strftime('%M')|int == i %}selected{% endif %}>{{ '0' + i|string }}</option>
        			{% else %}
        				<option value="{{ i }}" {% if datetime_departure.strftime('%M')|int == i %}selected{% endif %}>{{ i|string }}</option>
        			{% endif %}

        		{% endfor %}
        	</select>
        </div>

        <div class="form-group col-md-6">
        	<label for="seats">Seats available :</label>
			<select class="form-control" id="seats" name="seats">
			    <option value="1" {% if seats == 1 %}selected{% endif %}>1</option>
			    <option value="2" {% if seats == 2 %}selected{% endif %}>2</option>
			    <option value="3" {% if seats == 3 %}selected{% endif %}>3</option>
			    <option value="4" {% if seats == 4 %}selected{% endif %}>4</option>
			    <option value="5" {% if seats == 5 %}selected{% endif %}>5</option>
			</select>
        </div>

        <div class="form-group col-md-6">
        	<label for="price">Price : {% if error_price %}<span style="color:red;"> {{ error_price }}</span>{% endif %}</label>
        	<input class="form-control" id="price" type="number" maxlength="3" name="price" value={{ price }}>
        	$
        </div>

        <!-- Preferences -->
        <div id="preferences" class="container">

	        <div class="form-group col-md-12">
	        	<h3>Animals</h3>
	        	<label class="radio-inline col-md-5">
	        		<input type="radio" name="animals" value="ok" {% if user.animals == "ok" %}checked{% endif %}>Authorized  
	        		<img src="../scripts/img/animal.jpg">
	        	</label>
				<label class="radio-inline col-md-5">
					<input type="radio" name="animals" value="nok" {% if user.animals == "nok" %}checked{% endif %}>Prohibited  
					<img src="../scripts/img/no_animal.jpg">
				</label>
	        </div>

	        <div class="form-group col-md-12">
	        	<h3>Smoking</h3>
	        	<label class="radio-inline col-md-5">
	        		<input type="radio" name="smoking" value="ok" {% if user.smoking == "ok" %}checked{% endif %}>Authorized  
	        		<img src="../scripts/img/smoking.jpg">
	        	</label>
				<label class="radio-inline col-md-5">
					<input type="radio" name="smoking" value="nok" {% if user.smoking == "nok" %}checked{% endif %}>Prohibited  
					<img src="../scripts/img/no_smoking.jpg">
				</label>
	        </div>

	        <div class="form-group col-md-12">
	        	<h3>Luggage space</h3>
	        	<label class="radio-inline col-md-5">
	        		<input type="radio" name="luggage" value="sm_bag" {% if user.big_luggage == "nok" %}checked{% endif %}>Small bag  
	        		<img src="../scripts/img/small_bag.jpg">
	        	</label>
				<label class="radio-inline col-md-5">
					<input type="radio" name="luggage" value="suitcase" {% if user.big_luggage == "ok" %}checked{% endif %}>Suitcase  
					<img src="../scripts/img/suitcase.jpg">
				</label>
	        </div>

	     </div>


		<button type="submit" class="btn btn-success">Submit</button>

	</form>

</div>